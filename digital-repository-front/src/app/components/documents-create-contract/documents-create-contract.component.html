
  <div class="barra">
    <div class="columna">Nombre</div>
    <div class="columna">Tipo de documento</div>
    <div class="columna">Fecha de expedici√≥n</div>
  </div>
  <div class="contenedor-acordeon">
    <mat-accordion [multi]="true">
      <mat-expansion-panel class="linea-blanca-panel">
        <mat-expansion-panel-header>
          <mat-panel-title class="titulo-acordeon">
            <span class="etiqueta">Etapa precontractual</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-panel-description>
          <mat-accordion
            [multi]="true"
            class="acordeonEtapa"
            #acordeon
          >
            <mat-expansion-panel
              class="linea-blanca-panel"
              [expanded]="acordeonAbierto"
              *ngFor="let c1 of subdirectory1; let i = index "
            >
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <div class="barraInvitacion">
                    <span class="etiqueta">

                      {{c1.contractualDocumentType.name}}
                      {{i}}
                    </span>
                  </div>
                </mat-panel-title>
                <button
                  mat-icon-button
                  color="primary"
                  class="add-button"
                  (click)="
                    $event.stopPropagation(); abrirVentanaEmergente(0,i)
                  "
                >
                  <i-lucide name="FilePlus"></i-lucide>
                </button>
              </mat-expansion-panel-header>
              <mat-panel-description
                #dialog
                class="acordeonIC"
                *ngIf="c1.filas.length > 0"
              >
                <mat-panel-title
                  class="lineaDocumentos"
                  *ngFor="let fila of c1.filas; let i = index"
                >
                  <div class="barraDocumentos">
                    <div class="columnaDocs">
                      {{ fila.name }}
                    </div>
                    <div class="columnaDocs">
                      {{ fila.type }}
                    </div>
                    <div class="columnaDocs">
                      {{ fila.expeditionDate }}
                    </div>


                    <div class="botones-container">
                      <button class="boton-crear">
                        <i-lucide
                          class="custom-icon"
                          name="FileText"
                          (click)="openPdfViewerDialog(fila)"
                        ></i-lucide>
                      </button>
                      <button
                        class="boton-editar"
                        (click)="abrirVentanaEmergenteEdit(i)"
                      >
                        <i-lucide name="FileEdit"></i-lucide>
                      </button>
                      <button class="boton-borrar" (click)="openDialog(i,c1.filas)">
                        <i-lucide name="FileX"></i-lucide>
                      </button>
                    </div>
                  </div>
                </mat-panel-title>
              </mat-panel-description>
            </mat-expansion-panel>
            <br />
          </mat-accordion>
        </mat-panel-description>
      </mat-expansion-panel>

      <mat-expansion-panel class="linea-blanca-panel">
        <mat-expansion-panel-header>
          <mat-panel-title class="titulo-acordeon">
            <span class="etiqueta">Etapa Contractual</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-panel-description>
          <mat-accordion
            [multi]="true"
            class="acordeonEtapa"
            #acordeon
          >
            <mat-expansion-panel
              class="linea-blanca-panel"
              [expanded]="acordeonAbierto"
              *ngFor="let c2 of subdirectory2;  let i = index"
            >
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <div class="barraInvitacion">
                    <span class="etiqueta">
                      {{c2.contractualDocumentType.name}}
                      {{i}}
                    </span>
                  </div>
                </mat-panel-title>
                <button
                  mat-icon-button
                  color="primary"
                  class="add-button"
                  (click)="
                    $event.stopPropagation(); abrirVentanaEmergente(1,i)
                  "
                >
                  <i-lucide name="FilePlus"></i-lucide>
                </button>
              </mat-expansion-panel-header>
              <mat-panel-description
                #dialog
                class="acordeonIC"
                *ngIf="c2.filas.length > 0"
              >
                <mat-panel-title
                  class="lineaDocumentos"
                  *ngFor="let fila of c2.filas; let i = index"
                >
                  <div class="barraDocumentos">
                    <div class="columnaDocs">
                      {{ fila.name }}
                    </div>
                    <div class="columnaDocs">
                      {{ fila.type }}
                    </div>
                    <div class="columnaDocs">
                      {{ fila.expeditionDate }}
                    </div>


                    <div class="botones-container">
                      <button class="boton-crear">
                        <i-lucide
                          class="custom-icon"
                          name="FileText"
                          (click)="openPdfViewerDialog(fila)"
                        ></i-lucide>
                      </button>
                      <button
                        class="boton-editar"
                        (click)="abrirVentanaEmergenteEdit(i)"
                      >
                        <i-lucide name="FileEdit"></i-lucide>
                      </button>
                      <button class="boton-borrar" (click)="openDialog(i,c2.filas)">
                        <i-lucide name="FileX"></i-lucide>
                      </button>
                    </div>
                  </div>
                </mat-panel-title>
              </mat-panel-description>
            </mat-expansion-panel>
            <br />
          </mat-accordion>
        </mat-panel-description>
      </mat-expansion-panel>

      <mat-expansion-panel class="linea-blanca-panel">
        <mat-expansion-panel-header>
          <mat-panel-title class="titulo-acordeon">
            <span class="etiqueta">Etapa Postcontractual</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-panel-description>
          <mat-accordion
            [multi]="true"
            class="acordeonEtapa"
            #acordeon
          >
            <mat-expansion-panel
              class="linea-blanca-panel"
              [expanded]="acordeonAbierto"
              *ngFor="let c3 of subdirectory3;let i = index"
            >
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <div class="barraInvitacion">
                    <span class="etiqueta">
                      {{c3.contractualDocumentType.name}}
                      {{i}}
                    </span>
                  </div>
                </mat-panel-title>
                <button
                  mat-icon-button
                  color="primary"
                  class="add-button"
                  (click)="
                    $event.stopPropagation(); abrirVentanaEmergente(2,i)
                  "
                >
                  <i-lucide name="FilePlus"></i-lucide>
                </button>
              </mat-expansion-panel-header>
              <mat-panel-description
                #dialog
                class="acordeonIC"
                *ngIf="c3.filas.length > 0"
              >
                <mat-panel-title
                  class="lineaDocumentos"
                  *ngFor="let fila of c3.filas; let i = index"
                >
                  <div class="barraDocumentos">
                    <div class="columnaDocs">
                      {{ fila.name }}
                    </div>
                    <div class="columnaDocs">
                      {{ fila.type }}
                    </div>
                    <div class="columnaDocs">
                      {{ fila.expeditionDate }}
                    </div>


                    <div class="botones-container">
                      <button class="boton-crear">
                        <i-lucide
                          class="custom-icon"
                          name="FileText"
                          (click)="openPdfViewerDialog(fila)"
                        ></i-lucide>
                      </button>
                      <button
                        class="boton-editar"
                        (click)="abrirVentanaEmergenteEdit(i)"
                      >
                        <i-lucide name="FileEdit"></i-lucide>
                      </button>
                      <button class="boton-borrar" (click)="openDialog(i,c3.filas)">
                        <i-lucide name="FileX"></i-lucide>
                      </button>
                    </div>
                  </div>
                </mat-panel-title>
              </mat-panel-description>
            </mat-expansion-panel>
            <br />
          </mat-accordion>
        </mat-panel-description>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  <div class="uniButton">
    <button class="back-button" matStepperPrevious>
      <i-lucide name="ChevronLeft"></i-lucide>Regresar
    </button>
    <button class="next-button" matStepperNext>
      Enviar <i-lucide name="ChevronRight"></i-lucide>
    </button>
  </div>

